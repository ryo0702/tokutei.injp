!function(e,a,t,n){"use strict";var i=i||{};function r(){e(".wpa-save").wpa_save(),e(".wpa-options").wpa_options(),e(".wpa-sticky-header").wpa_sticky(),e(".wpa-nav-options").wpa_nav_options(),e(".wpa-nav-metabox").wpa_nav_metabox(),e(".wpa-taxonomy").wpa_taxonomy(),e(".wpa-page-templates").wpa_page_templates(),e(".wpa-post-formats").wpa_post_formats(),e(".wpa-shortcode").wpa_shortcode(),e(".wpa-search").wpa_search(),e(".wpa-confirm").wpa_confirm(),e(".wpa-expand-all").wpa_expand_all(),e(".wpa-onload").wpa_reload_script(),e("#widgets-editor").wpa_widgets(),e("#widgets-right").wpa_widgets(),e("#menu-to-edit").wpa_nav_menu()}if(i.funcs={},i.vars={code_themes:[],onloaded:!1,$body:e("body"),$window:e(a),$document:e(t),$form_warning:null,is_confirm:!1,form_modified:!1,is_rtl:e("body").hasClass("rtl")},i.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\-|\])/g,"\\$1")},name_nested_replace:function(a,t){var n=new RegExp("("+i.helper.preg_quote(t)+")\\[(\\d+)\\]","g");a.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),a.each((function(a){e(this).find(":input").each((function(){this.name=this.name.replace(n,t+"["+a+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(e,a,t){var n;return function(){var i=this,r=arguments,o=function(){n=null,t||e.apply(i,r)},l=t&&!n;clearTimeout(n),n=setTimeout(o,a),l&&e.apply(i,r)}}},e.fn.wpa_clone=function(){for(var a=e.fn.clone.apply(this,arguments),t=this.find("select").add(this.filter("select")),n=a.find("select").add(a.filter("select")),i=0;i<t.length;++i)for(var r=0;r<t[i].options.length;++r)!0===t[i].options[r].selected&&(n[i].options[r].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),a},e.fn.wpa_expand_all=function(){return this.each((function(){e(this).on("click",(function(a){a.preventDefault(),e(".wpa-wrapper").toggleClass("wpa-show-all"),e(".wpa-section").wpa_reload_script(),e(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")}))}))},e.fn.wpa_nav_options=function(){return this.each((function(){var t,i=e(this),r=i.find("a"),o=i.closest(".wpa").find(".wpa-section-id");e(a).on("hashchange wpa.hashchange",(function(){var i=a.location.hash.match(new RegExp("tab=([^&]*)")),l=i?i[1]:r.first().attr("href").replace("#tab=",""),d=e("#wpa-tab-link-"+l);if(d.length>0){d.closest(".wpa-tab-depth-0").addClass("wpa-tab-active").siblings().removeClass("wpa-tab-active"),r.removeClass("wpa-section-active"),d.addClass("wpa-section-active"),t!==n&&t.hide();var s=e("#wpa-section-"+l);s.show(),s.wpa_reload_script(),o.val(l),t=s}})).trigger("wpa.hashchange")}))},e.fn.wpa_nav_metabox=function(){return this.each((function(){var a,t,i=e(this).find("a");i.on("click",(function(i){i.preventDefault();var r=e(this),o=r.data("section");t!==n&&t.removeClass("wpa-section-active"),a!==n&&a.hide(),r.addClass("wpa-section-active");var l=e("#wpa-section-"+o);l.show(),l.wpa_reload_script(),a=l,t=r})),i.first().trigger("click")}))},e.fn.wpa_page_templates=function(){this.length&&e(t).on("change","#editor .components-select-control__input, #page_template",(function(){var a=e(this).val()||"default";wp.data!==n&&(a=wp.data.select("core/editor").getEditedPostAttribute("template")||"default"),e(".wpa-page-templates").removeClass("wpa-show").addClass("wpa-hide"),e(".wpa-page-"+a.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("wpa-hide").addClass("wpa-show")}))},e.fn.wpa_post_formats=function(){this.length&&e(t).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',(function(){var a=e(this).val()||"default";a="0"===a?"default":a,e(".wpa-post-formats").removeClass("wpa-show").addClass("wpa-hide"),e(".wpa-post-format-"+a).removeClass("wpa-hide").addClass("wpa-show")}))},e.fn.wpa_search=function(){return this.each((function(){e(this).find("input").on("change keyup",(function(){var a=e(this).val(),t=e(".wpa-wrapper"),n=t.find(".wpa-section").find("> .wpa-field:not(.wpa-depend-on)"),i=n.find("> .wpa-title, .wpa-search-tags");a.length>3?(n.addClass("wpa-hidden"),t.addClass("wpa-search-all"),i.each((function(){var t=e(this);if(t.text().match(new RegExp(".*?"+a+".*?","i"))){var n=t.closest(".wpa-field");n.removeClass("wpa-hidden"),n.parent().wpa_reload_script()}}))):(n.removeClass("wpa-hidden"),t.removeClass("wpa-search-all"))}))}))},e.fn.wpa_sticky=function(){return this.each((function(){var t=e(this),n=e(a),i=t.find(".wpa-header-inner"),r=parseInt(i.css("padding-left"))+parseInt(i.css("padding-right")),o=0,l=!1,d=function(){l||requestAnimationFrame((function(){var e,a,d;e=t.offset().top,a=Math.max(32,e-o),d=n.innerWidth(),a<=32&&d>782?(i.css({width:t.outerWidth()-r}),t.css({height:t.outerHeight()}).addClass("wpa-sticky")):(i.removeAttr("style"),t.removeAttr("style").removeClass("wpa-sticky")),l=!1})),l=!0},s=function(){o=n.scrollTop(),d()};n.on("scroll resize",s),s()}))},e.fn.wpa_dependency=function(){return this.each((function(){var a=e(this),t=a.children("[data-controller]");if(t.length){var n=e.wpa_deps.createRuleset(),r=e.wpa_deps.createRuleset(),o=[],l=[];t.each((function(){var a=e(this),t=a.data("controller").split("|"),i=a.data("condition").split("|"),d=a.data("value").toString().split("|"),s=!!a.data("depend-global"),p=s?r:n;e.each(t,(function(e,t){var n=d[e]||"",r=i[e]||i[0];(p=p.createRule('[data-depend-id="'+t+'"]',r,n)).include(a),s?l.push(t):o.push(t)}))})),o.length&&e.wpa_deps.enable(a,n,o),l.length&&e.wpa_deps.enable(i.vars.$body,r,l)}}))},e.fn.wpa_field_accordion=function(){return this.each((function(){e(this).find(".wpa-accordion-title").on("click",(function(){var a=e(this),t=a.find(".wpa-accordion-icon"),n=a.next();t.hasClass("fa-angle-right")?t.removeClass("fa-angle-right").addClass("fa-angle-down"):t.removeClass("fa-angle-down").addClass("fa-angle-right"),n.data("opened")||(n.wpa_reload_script(),n.data("opened",!0)),n.toggleClass("wpa-accordion-open")}))}))},e.fn.wpa_field_backup=function(){return this.each((function(){if(a.wp.customize!==n){var t=this,r=e(this),o=(e("body"),r.find(".wpa-import")),l=r.find(".wpa-reset");t.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each((function(e){e._dirty=!1})),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("wpa_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},l.on("click",(function(e){e.preventDefault(),i.vars.is_confirm&&(t.notificationOverlay(),a.wp.ajax.post("wpa-reset",{unique:l.data("unique"),nonce:l.data("nonce")}).done((function(e){a.location.reload(!0)})).fail((function(e){alert(e.error),wp.customize.notifications.remove("wpa_field_backup_notification")})))})),o.on("click",(function(e){e.preventDefault(),i.vars.is_confirm&&(t.notificationOverlay(),a.wp.ajax.post("wpa-import",{unique:o.data("unique"),nonce:o.data("nonce"),data:r.find(".wpa-import-data").val()}).done((function(e){a.location.reload(!0)})).fail((function(e){alert(e.error),wp.customize.notifications.remove("wpa_field_backup_notification")})))}))}}))},e.fn.wpa_field_background=function(){return this.each((function(){e(this).find(".wpa--background-image").wpa_reload_script()}))},e.fn.wpa_field_code_editor=function(){return this.each((function(){if("function"==typeof CodeMirror){var a=e(this),t=a.find("textarea"),n=a.find(".CodeMirror"),r=t.data("editor");n.length&&n.remove();var o=setInterval((function(){if(a.is(":visible")){var n=CodeMirror.fromTextArea(t[0],r);if("default"!==r.theme&&-1===i.vars.code_themes.indexOf(r.theme)){var l=e("<link>");e("#wpa-codemirror-css").after(l),l.attr({rel:"stylesheet",id:"wpa-codemirror-"+r.theme+"-css",href:r.cdnURL+"/theme/"+r.theme+".min.css",type:"text/css",media:"all"}),i.vars.code_themes.push(r.theme)}CodeMirror.modeURL=r.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(n,r.mode),n.on("change",(function(e,a){t.val(n.getValue()).trigger("change")})),clearInterval(o)}}))}}))},e.fn.wpa_field_date=function(){return this.each((function(){var a=e(this),t=a.find("input"),n=a.find(".wpa-date-settings").data("settings"),i={showAnim:"",beforeShow:function(a,t){e(t.dpDiv).addClass("wpa-datepicker-wrapper")},onClose:function(a,t){e(t.dpDiv).removeClass("wpa-datepicker-wrapper")}};n=e.extend({},n,i),2===t.length&&(n=e.extend({},n,{onSelect:function(a){e(this),t.first();var i=t.first().attr("id")===e(this).attr("id")?"minDate":"maxDate",r=e.datepicker.parseDate(n.dateFormat,a);t.not(this).datepicker("option",i,r)}})),t.each((function(){var a=e(this);a.hasClass("hasDatepicker")&&a.removeAttr("id").removeClass("hasDatepicker"),a.datepicker(n)}))}))},e.fn.wpa_field_datetime=function(){return this.each((function(){var a=e(this),t=a.find("input"),n=a.find(".wpa-datetime-settings").data("settings");n=e.extend({},n,{onReady:function(a,t,n){e(n.calendarContainer).addClass("wpa-flatpickr")}}),2===t.length&&(n=e.extend({},n,{onChange:function(a,n,i){"from"===e(i.element).data("type")?t.last().get(0)._flatpickr.set("minDate",a[0]):t.first().get(0)._flatpickr.set("maxDate",a[0])}})),t.each((function(){e(this).flatpickr(n)}))}))},e.fn.wpa_field_fieldset=function(){return this.each((function(){e(this).find(".wpa-fieldset-content").wpa_reload_script()}))},e.fn.wpa_field_gallery=function(){return this.each((function(){var t,n=e(this),i=n.find(".wpa-edit-gallery"),r=n.find(".wpa-clear-gallery"),o=n.find("ul"),l=n.find("input");n.find("img");n.on("click",".wpa-button, .wpa-edit-gallery",(function(n){var d=e(this),s=l.val(),p=d.hasClass("wpa-edit-gallery")?"edit":"add",c="add"!==p||s.length?"gallery-edit":"gallery";n.preventDefault(),void 0!==a.wp&&a.wp.media&&a.wp.media.gallery&&("gallery"===c?(t=a.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(t=a.wp.media.gallery.edit('[gallery ids="'+s+'"]'),"add"===p&&t.setState("gallery-library")),t.on("update",(function(e){o.empty();var a=e.models.map((function(e){var a=e.toJSON(),t=a.sizes&&a.sizes.thumbnail&&a.sizes.thumbnail.url?a.sizes.thumbnail.url:a.url;return o.append('<li><img src="'+t+'"></li>'),a.id}));l.val(a.join(",")).trigger("change"),r.removeClass("hidden"),i.removeClass("hidden")})))})),r.on("click",(function(e){e.preventDefault(),o.empty(),l.val("").trigger("change"),r.addClass("hidden"),i.addClass("hidden")}))}))},e.fn.wpa_field_group=function(){return this.each((function(){var a=e(this),t=a.children(".wpa-fieldset"),n=t.length?t:a,r=n.children(".wpa-cloneable-wrapper"),o=n.children(".wpa-cloneable-hidden"),l=n.children(".wpa-cloneable-max"),d=n.children(".wpa-cloneable-min"),s=r.data("field-id"),p=Boolean(Number(r.data("title-number"))),c=parseInt(r.data("max")),f=parseInt(r.data("min"));r.hasClass("ui-accordion")&&r.find(".ui-accordion-header-icon").remove();var h=function(a){a.find(".wpa-cloneable-title-number").each((function(a){e(this).html(e(this).closest(".wpa-cloneable-item").index()+1+".")}))};r.accordion({header:"> .wpa-cloneable-item > .wpa-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"wpa-cloneable-header-icon fas fa-angle-right",activeHeader:"wpa-cloneable-header-icon fas fa-angle-down"},activate:function(e,a){var t=a.newPanel,n=a.newHeader;if(t.length&&!t.data("opened")){var i=t.children().first().find(":input").first(),r=n.find(".wpa-cloneable-value");i.on("change keyup",(function(e){r.text(i.val())})),t.wpa_reload_script(),t.data("opened",!0),t.data("retry",!1)}else t.data("retry")&&(t.wpa_reload_script_retry(),t.data("retry",!1))}}),r.sortable({axis:"y",handle:".wpa-cloneable-title,.wpa-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,a){r.accordion({active:!1}),r.sortable("refreshPositions"),a.item.children(".wpa-cloneable-content").data("retry",!0)},update:function(e,a){i.helper.name_nested_replace(r.children(".wpa-cloneable-item"),s),r.wpa_customizer_refresh(),p&&h(r)}}),n.children(".wpa-cloneable-add").on("click",(function(e){e.preventDefault();var a=r.children(".wpa-cloneable-item").length;if(d.hide(),c&&a+1>c)l.show();else{var t=o.wpa_clone(!0);t.removeClass("wpa-cloneable-hidden"),t.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(s+"[0]",s+"["+a+"]")})),r.append(t),r.accordion("refresh"),r.accordion({active:a}),r.wpa_customizer_refresh(),r.wpa_customizer_listen({closest:!0}),p&&h(r)}}));var w=function(a){a.preventDefault();var t=r.children(".wpa-cloneable-item").length;if(d.hide(),c&&t+1>c)l.show();else{var n=e(this).parent().parent(),o=n.children(".wpa-cloneable-helper").wpa_clone(!0),f=n.children(".wpa-cloneable-title").wpa_clone(),w=n.children(".wpa-cloneable-content").wpa_clone(),u=e('<div class="wpa-cloneable-item" />');u.append(o),u.append(f),u.append(w),r.children().eq(n.index()).after(u),i.helper.name_nested_replace(r.children(".wpa-cloneable-item"),s),r.accordion("refresh"),r.wpa_customizer_refresh(),r.wpa_customizer_listen({closest:!0}),p&&h(r)}};r.children(".wpa-cloneable-item").children(".wpa-cloneable-helper").on("click",".wpa-cloneable-clone",w),n.children(".wpa-cloneable-hidden").children(".wpa-cloneable-helper").on("click",".wpa-cloneable-clone",w);var u=function(a){a.preventDefault();var t=r.children(".wpa-cloneable-item").length;l.hide(),d.hide(),f&&t-1<f?d.show():(e(this).closest(".wpa-cloneable-item").remove(),i.helper.name_nested_replace(r.children(".wpa-cloneable-item"),s),r.wpa_customizer_refresh(),p&&h(r))};r.children(".wpa-cloneable-item").children(".wpa-cloneable-helper").on("click",".wpa-cloneable-remove",u),n.children(".wpa-cloneable-hidden").children(".wpa-cloneable-helper").on("click",".wpa-cloneable-remove",u)}))},e.fn.wpa_field_icon=function(){return this.each((function(){var t=e(this);t.on("click",".wpa-icon-add",(function(n){n.preventDefault();var r=e(this),o=e("#wpa-modal-icon");o.show(),i.vars.$icon_target=t,i.vars.icon_modal_loaded||(o.find(".wpa-modal-loading").show(),a.wp.ajax.post("wpa-get-icons",{nonce:r.data("nonce")}).done((function(a){o.find(".wpa-modal-loading").hide(),i.vars.icon_modal_loaded=!0;var t=o.find(".wpa-modal-load").html(a.content),n=o.find(".wpa-nav > ul").html(a.nav);t.on("click","i",(function(a){a.preventDefault();var t=e(this).attr("title");i.vars.$icon_target.find("i").removeAttr("class").addClass(t),i.vars.$icon_target.find("input").val(t).trigger("change"),i.vars.$icon_target.find(".wpa-icon-preview").removeClass("hidden"),i.vars.$icon_target.find(".wpa-icon-remove").removeClass("hidden"),o.hide()})),n.on("click","a",(function(a){a.preventDefault();var n=e(this),i=n.closest("ul"),r=n.data("active"),l=i.find("a").not(n),d=n.find("span");d.hasClass("fa-folder")&&(n.addClass("wpa-section-active"),d.toggleClass("fa-folder-open fa-folder"),l.removeClass("wpa-section-active"),l.find("span").removeClass("fa-folder-open").addClass("fa-folder"),t.find(r).removeClass("hidden").siblings().addClass("hidden"),o.find(".wpa-icon-search").trigger("change"))})),o.on("change keyup",".wpa-icon-search",(function(){var a=e(this).val(),i=n.find(".wpa-section-active").data("active");t.find(i+" i").each((function(){var t=e(this);t.attr("title").search(new RegExp(a,"i"))<0?t.hide():t.show()}))})),o.on("click",".wpa-modal-close, .wpa-modal-overlay",(function(){o.hide()}))})).fail((function(e){o.find(".wpa-modal-loading").hide(),o.find(".wpa-modal-load").html(e.error),o.on("click",(function(){o.hide()}))})))})),t.on("click",".wpa-icon-remove",(function(a){a.preventDefault(),t.find(".wpa-icon-preview").addClass("hidden"),t.find("input").val("").trigger("change"),e(this).addClass("hidden")}))}))},e.fn.wpa_field_map=function(){return this.each((function(){if("undefined"!=typeof L){var a=e(this),t=a.find(".wpa--map-osm"),n=a.find(".wpa--map-search input"),i=a.find(".wpa--latitude"),r=a.find(".wpa--longitude"),o=a.find(".wpa--zoom"),l=t.data("map"),d=L.map(t.get(0),l);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(d);var s=L.marker(l.center,{draggable:!0}).addTo(d),p=function(e){i.val(e.lat),r.val(e.lng),o.val(d.getZoom())};d.on("click",(function(e){s.setLatLng(e.latlng),p(e.latlng)})),d.on("zoom",(function(){p(s.getLatLng())})),s.on("drag",(function(){p(s.getLatLng())})),n.length||(n=e('[data-depend-id="'+a.find(".wpa--address-field").data("address-field")+'"]'));var c={};n.autocomplete({source:function(a,t){var n=a.term;n in c?t(c[n]):e.get("https://nominatim.openstreetmap.org/search",{format:"json",q:n},(function(e){var a;a=e.length?e.map((function(e){return{value:e.display_name,label:e.display_name,lat:e.lat,lon:e.lon}}),"json"):[{value:"no-data",label:"No Results."}],c[n]=a,t(a)}))},select:function(e,a){if("no-data"===a.item.value)return!1;var t=L.latLng(a.item.lat,a.item.lon);d.panTo(t),s.setLatLng(t),p(t)},create:function(a,t){e(this).autocomplete("widget").addClass("wpa-map-ui-autocomplate")}});var f=function(){var e=L.latLng(i.val(),r.val());d.panTo(e),s.setLatLng(e)};i.on("change",f),r.on("change",f)}}))},e.fn.wpa_field_link=function(){return this.each((function(){var t=e(this),n=t.find(".wpa--link"),r=t.find(".wpa--add"),o=t.find(".wpa--edit"),l=t.find(".wpa--remove"),d=t.find(".wpa--result"),s=i.helper.uid("wpa-wplink-textarea-");r.on("click",(function(e){e.preventDefault(),a.wpLink.open(s)})),o.on("click",(function(a){a.preventDefault(),r.trigger("click"),e("#wp-link-url").val(t.find(".wpa--url").val()),e("#wp-link-text").val(t.find(".wpa--text").val()),e("#wp-link-target").prop("checked","_blank"===t.find(".wpa--target").val())})),l.on("click",(function(e){e.preventDefault(),t.find(".wpa--url").val("").trigger("change"),t.find(".wpa--text").val(""),t.find(".wpa--target").val(""),r.removeClass("hidden"),o.addClass("hidden"),l.addClass("hidden"),d.parent().addClass("hidden")})),n.attr("id",s).on("change",(function(){var n=a.wpLink.getAttrs(),i=n.href,s=e("#wp-link-text").val(),p=n.target?n.target:"";t.find(".wpa--url").val(i).trigger("change"),t.find(".wpa--text").val(s),t.find(".wpa--target").val(p),d.html('{url:"'+i+'", text:"'+s+'", target:"'+p+'"}'),r.addClass("hidden"),o.removeClass("hidden"),l.removeClass("hidden"),d.parent().removeClass("hidden")}))}))},e.fn.wpa_field_image=function(){return this.each((function(){var a,t=e(this),n=t.find(".wpa-button"),i=t.find(".wpa-image-preview"),r=t.find(".wpa-image-remove"),o=t.find("input"),l=t.find("img");n.on("click",(function(e){e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&(a||(a=wp.media({library:{type:"image"}})).on("select",(function(){var e=a.state().get("selection").first().attributes,t=void 0!==e.sizes&&void 0!==e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;i.removeClass("hidden"),l.attr("src",t),o.val(e.id).trigger("change")})),a.open())})),r.on("click",(function(e){e.preventDefault(),o.val("").trigger("change"),i.addClass("hidden")}))}))},e.fn.wpa_field_media=function(){return this.each((function(){var t,n=e(this),i=n.find(".wpa--button"),r=n.find(".wpa--remove"),o=i.data("library")&&i.data("library").split(",")||"",l=!!n.hasClass("wpa-assign-field-background")&&n.closest(".wpa-field-background").find(".wpa--auto-attributes");i.on("click",(function(e){e.preventDefault(),void 0!==a.wp&&a.wp.media&&a.wp.media.gallery&&(t||(t=a.wp.media({library:{type:o}})).on("select",(function(){var e,a=t.state().get("selection").first().attributes,d=i.data("preview-size")||"thumbnail";o.length&&-1===o.indexOf(a.subtype)&&-1===o.indexOf(a.type)||(n.find(".wpa--id").val(a.id),n.find(".wpa--width").val(a.width),n.find(".wpa--height").val(a.height),n.find(".wpa--alt").val(a.alt),n.find(".wpa--title").val(a.title),n.find(".wpa--description").val(a.description),e=void 0!==a.sizes&&void 0!==a.sizes.thumbnail&&"thumbnail"===d?a.sizes.thumbnail.url:void 0!==a.sizes&&void 0!==a.sizes.full?a.sizes.full.url:"image"===a.type?a.url:a.icon,l&&l.removeClass("wpa--attributes-hidden"),r.removeClass("hidden"),n.find(".wpa--preview").removeClass("hidden"),n.find(".wpa--src").attr("src",e),n.find(".wpa--thumbnail").val(e),n.find(".wpa--url").val(a.url).trigger("change"))})),t.open())})),r.on("click",(function(e){e.preventDefault(),l&&l.addClass("wpa--attributes-hidden"),r.addClass("hidden"),n.find("input").val(""),n.find(".wpa--preview").addClass("hidden"),n.find(".wpa--url").trigger("change")}))}))},e.fn.wpa_field_repeater=function(){return this.each((function(){var a=e(this),t=a.children(".wpa-fieldset"),n=t.length?t:a,r=n.children(".wpa-repeater-wrapper"),o=n.children(".wpa-repeater-hidden"),l=n.children(".wpa-repeater-max"),d=n.children(".wpa-repeater-min"),s=r.data("field-id"),p=parseInt(r.data("max")),c=parseInt(r.data("min"));r.children(".wpa-repeater-item").children(".wpa-repeater-content").wpa_reload_script(),r.sortable({axis:"y",handle:".wpa-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,a){i.helper.name_nested_replace(r.children(".wpa-repeater-item"),s),r.wpa_customizer_refresh(),a.item.wpa_reload_script_retry()}}),n.children(".wpa-repeater-add").on("click",(function(e){e.preventDefault();var a=r.children(".wpa-repeater-item").length;if(d.hide(),p&&a+1>p)l.show();else{var t=o.wpa_clone(!0);t.removeClass("wpa-repeater-hidden"),t.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(s+"[0]",s+"["+a+"]")})),r.append(t),t.children(".wpa-repeater-content").wpa_reload_script(),r.wpa_customizer_refresh(),r.wpa_customizer_listen({closest:!0})}}));var f=function(a){a.preventDefault();var t=r.children(".wpa-repeater-item").length;if(d.hide(),p&&t+1>p)l.show();else{var n=e(this).parent().parent().parent(),o=n.children(".wpa-repeater-content").wpa_clone(),c=n.children(".wpa-repeater-helper").wpa_clone(!0),f=e('<div class="wpa-repeater-item" />');f.append(o),f.append(c),r.children().eq(n.index()).after(f),f.children(".wpa-repeater-content").wpa_reload_script(),i.helper.name_nested_replace(r.children(".wpa-repeater-item"),s),r.wpa_customizer_refresh(),r.wpa_customizer_listen({closest:!0})}};r.children(".wpa-repeater-item").children(".wpa-repeater-helper").on("click",".wpa-repeater-clone",f),n.children(".wpa-repeater-hidden").children(".wpa-repeater-helper").on("click",".wpa-repeater-clone",f);var h=function(a){a.preventDefault();var t=r.children(".wpa-repeater-item").length;l.hide(),d.hide(),c&&t-1<c?d.show():(e(this).closest(".wpa-repeater-item").remove(),i.helper.name_nested_replace(r.children(".wpa-repeater-item"),s),r.wpa_customizer_refresh())};r.children(".wpa-repeater-item").children(".wpa-repeater-helper").on("click",".wpa-repeater-remove",h),n.children(".wpa-repeater-hidden").children(".wpa-repeater-helper").on("click",".wpa-repeater-remove",h)}))},e.fn.wpa_field_slider=function(){return this.each((function(){var a=e(this),t=a.find("input"),n=a.find(".wpa-slider-ui"),i=t.data(),r=t.val()||0;n.slider({range:"min",value:parseInt(r),min:parseInt(i.min),max:parseInt(i.max),step:parseInt(i.step),slide:function(e,a){t.val(a.value).trigger("change")}}),t.on("keyup",(function(){n.slider("value",parseInt(t.val()))}))}))},e.fn.wpa_field_sortable=function(){return this.each((function(){var a=e(this).find(".wpa--sortable");a.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){a.wpa_customizer_refresh()}}),a.find(".wpa--sortable-content").wpa_reload_script()}))},e.fn.wpa_field_sorter=function(){return this.each((function(){var a=e(this),t=a.find(".wpa-enabled"),n=a.find(".wpa-disabled"),i=!!n.length&&n;t.sortable({connectWith:i,placeholder:"ui-sortable-placeholder",update:function(e,t){var n=t.item.find("input");t.item.parent().hasClass("wpa-enabled")?n.attr("name",n.attr("name").replace("disabled","enabled")):n.attr("name",n.attr("name").replace("enabled","disabled")),a.wpa_customizer_refresh()}}),i&&i.sortable({connectWith:t,placeholder:"ui-sortable-placeholder",update:function(e,t){a.wpa_customizer_refresh()}})}))},e.fn.wpa_field_spinner=function(){return this.each((function(){var a=e(this),t=a.find("input"),n=a.find(".ui-spinner-button"),i=t.data();n.length&&n.remove(),t.spinner({min:i.min||0,max:i.max||100,step:i.step||1,create:function(e,a){i.unit&&t.after('<span class="ui-button wpa--unit">'+i.unit+"</span>")},spin:function(e,a){t.val(a.value).trigger("change")}})}))},e.fn.wpa_field_switcher=function(){return this.each((function(){var a=e(this).find(".wpa--switcher");a.on("click",(function(){var e=0,t=a.find("input");a.hasClass("wpa--active")?a.removeClass("wpa--active"):(e=1,a.addClass("wpa--active")),t.val(e).trigger("change")}))}))},e.fn.wpa_field_tabbed=function(){return this.each((function(){var a,t=e(this),n=t.find(".wpa-tabbed-nav a"),i=t.find(".wpa-tabbed-section");i.eq(0).wpa_reload_script(),n.on("click",(function(t){t.preventDefault();var n=e(this),r=n.index(),o=i.eq(r);clearTimeout(a),n.addClass("wpa-tabbed-active").siblings().removeClass("wpa-tabbed-active"),o.removeClass("hidden").siblings().addClass("hidden"),a=setTimeout((function(){o.wpa_reload_script()}),100)}))}))},e.fn.wpa_field_typography=function(){return this.each((function(){var a=this,t=e(this),n=[],r=wpa_typography_json.webfonts,o=wpa_typography_json.googlestyles,l=wpa_typography_json.defaultstyles;a.sanitize_subset=function(e){return e=(e=e.replace("-ext"," Extended")).charAt(0).toUpperCase()+e.slice(1)},a.sanitize_style=function(e){return o[e]?o[e]:e},a.load_google_font=function(e,a,t){e&&"object"==typeof WebFont&&(a=a?a.replace("normal",""):"",t=t?t.replace("normal",""):"",(a||t)&&(e=e+":"+a+t),-1===n.indexOf(e)&&WebFont.load({google:{families:[e]}}),n.push(e))},a.append_select_options=function(t,n,i,r,o){t.find("option").not(":first").remove();var l="";e.each(n,(function(e,t){var n,d=t;n=o?i&&-1!==i.indexOf(t)?" selected":"":i&&i===t?" selected":"","subset"===r?d=a.sanitize_subset(t):"style"===r&&(d=a.sanitize_style(t)),l+='<option value="'+t+'"'+n+">"+d+"</option>"})),t.append(l).trigger("wpa.change").trigger("chosen:updated")},a.init=function(){var n=[],o=t.find(".wpa--typography"),d=t.find(".wpa--type"),s=t.find(".wpa--block-font-style"),p=o.data("unit"),c=o.data("line-height-unit"),f=o.data("exclude")?o.data("exclude").split(","):[];t.find(".wpa--chosen").length&&t.find("select").each((function(){var a=e(this),t=a.parent().find(".chosen-container");t.length&&t.remove(),a.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})}));var h=t.find(".wpa--font-family"),w=h.val();h.find("option").not(":first-child").remove();var u="";e.each(r,(function(a,t){f&&-1!==f.indexOf(a)||(u+='<optgroup label="'+t.label+'">',e.each(t.fonts,(function(e,t){u+='<option value="'+(t="object"==typeof t?e:t)+'" data-type="'+a+'"'+(t===w?" selected":"")+">"+t+"</option>"})),u+="</optgroup>")})),h.append(u).trigger("chosen:updated");var v=t.find(".wpa--block-font-style");if(v.length){var g=t.find(".wpa--font-style-select"),m=g.val()?g.val().replace(/normal/g,""):"";g.on("change wpa.change",(function(e){var a=g.val();!a&&n&&-1===n.indexOf("normal")&&(a=n[0]);var i=a&&"italic"!==a&&"normal"===a?"normal":"",r=a&&"italic"!==a&&"normal"!==a?a.replace("italic",""):i,o=a&&"italic"===a.substr(-6)?"italic":"";t.find(".wpa--font-weight").val(r),t.find(".wpa--font-style").val(o)}));var _=t.find(".wpa--block-extra-styles");if(_.length)var b=t.find(".wpa--extra-styles"),y=b.val()}var k=t.find(".wpa--block-subset");if(k.length)var C=t.find(".wpa--subset"),x=C.val(),z=C.data("multiple")||!1;var D=t.find(".wpa--block-backup-font-family");h.on("change wpa.change",(function(e){k.length&&k.addClass("hidden"),_.length&&_.addClass("hidden"),D.length&&D.addClass("hidden");var t=h.find(":selected"),i=t.val(),o=t.data("type");if(o&&i){if("google"!==o&&"custom"!==o||!D.length||D.removeClass("hidden"),v.length){var p=l;"google"===o&&r[o].fonts[i][0]?p=r[o].fonts[i][0]:"custom"===o&&r[o].fonts[i]&&(p=r[o].fonts[i]),n=p;var c=-1!==p.indexOf("normal")?"normal":p[0],f=m&&-1!==p.indexOf(m)?m:c;a.append_select_options(g,p,f,"style"),m=!1,v.removeClass("hidden"),"google"===o&&_.length&&p.length>1&&(a.append_select_options(b,p,y,"style",!0),y=!1,_.removeClass("hidden"))}if("google"===o&&k.length&&r[o].fonts[i][1]){var w=r[o].fonts[i][1],u=w.length<2&&"latin"!==w[0]?w[0]:"",A=x&&-1!==w.indexOf(x)?x:u;A=z&&x?x:A,a.append_select_options(C,w,A,"subset",z),x=!1,k.removeClass("hidden")}}else s.find(":input").val(""),k.length&&(C.find("option").not(":first-child").remove(),C.trigger("chosen:updated")),v.length&&(g.find("option").not(":first-child").remove(),g.trigger("chosen:updated"));d.val(o)})).trigger("wpa.change");var A=t.find(".wpa--block-preview");if(A.length){var O=t.find(".wpa--preview");t.on("change",i.helper.debounce((function(e){A.removeClass("hidden");var n=h.val(),i=t.find(".wpa--font-weight").val(),r=t.find(".wpa--font-style").val(),o=t.find(".wpa--font-size").val(),l=t.find(".wpa--font-variant").val(),d=t.find(".wpa--line-height").val(),s=t.find(".wpa--text-align").val(),f=t.find(".wpa--text-transform").val(),w=t.find(".wpa--text-decoration").val(),u=t.find(".wpa--color").val(),v=t.find(".wpa--word-spacing").val(),g=t.find(".wpa--letter-spacing").val(),m=t.find(".wpa--custom-style").val();"google"===t.find(".wpa--type").val()&&a.load_google_font(n,i,r);var _={};n&&(_.fontFamily=n),i&&(_.fontWeight=i),r&&(_.fontStyle=r),l&&(_.fontVariant=l),o&&(_.fontSize=o+p),d&&(_.lineHeight=d+c),g&&(_.letterSpacing=g+p),v&&(_.wordSpacing=v+p),s&&(_.textAlign=s),f&&(_.textTransform=f),w&&(_.textDecoration=w),u&&(_.color=u),O.removeAttr("style"),m&&O.attr("style",m),O.css(_)}),100)),A.on("click",(function(){O.toggleClass("wpa--black-background");var e=A.find(".wpa--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")})),A.hasClass("hidden")||t.trigger("change")}},a.init()}))},e.fn.wpa_field_upload=function(){return this.each((function(){var t,n=e(this),i=n.find("input"),r=n.find(".wpa--button"),o=n.find(".wpa--remove"),l=n.find(".wpa--preview"),d=n.find(".wpa--src"),s=r.data("library")&&r.data("library").split(",")||"";r.on("click",(function(e){e.preventDefault(),void 0!==a.wp&&a.wp.media&&a.wp.media.gallery&&(t||(t=a.wp.media({library:{type:s}})).on("select",(function(){var e=t.state().get("selection").first().attributes;s.length&&-1===s.indexOf(e.subtype)&&-1===s.indexOf(e.type)||i.val(e.url).trigger("change")})),t.open())})),o.on("click",(function(e){e.preventDefault(),i.val("").trigger("change")})),i.on("change",(function(a){var t=i.val();t?o.removeClass("hidden"):o.addClass("hidden"),l.length&&(-1!==e.inArray(t.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(l.removeClass("hidden"),d.attr("src",t)):l.addClass("hidden"))}))}))},e.fn.wpa_field_wp_editor=function(){return this.each((function(){if(void 0!==a.wp.editor&&void 0!==a.tinyMCEPreInit&&void 0!==a.tinyMCEPreInit.mceInit.wpa_wp_editor){var t=e(this),n=t.find(".wpa-wp-editor"),r=t.find("textarea");(t.find(".wp-editor-wrap").length||t.find(".mce-container").length)&&(n.empty(),n.append(r),r.css("display",""));var o=i.helper.uid("wpa-editor-");r.attr("id",o);var l={tinymce:a.tinyMCEPreInit.mceInit.wpa_wp_editor,quicktags:a.tinyMCEPreInit.qtInit.wpa_wp_editor},d=n.data("editor-settings"),s=wp.oldEditor?wp.oldEditor:wp.editor;s&&s.hasOwnProperty("autop")&&(wp.editor.autop=s.autop,wp.editor.removep=s.removep,wp.editor.initialize=s.initialize);l.tinymce=e.extend({},l.tinymce,{selector:"#"+o,setup:function(e){e.on("change keyup",(function(){var a=d.wpautop?e.getContent():wp.editor.removep(e.getContent());r.val(a).trigger("change")}))}}),!1===d.tinymce&&(l.tinymce=!1,n.addClass("wpa-no-tinymce")),!1===d.quicktags&&(l.quicktags=!1,n.addClass("wpa-no-quicktags"));var p=setInterval((function(){t.is(":visible")&&(a.wp.editor.initialize(o,l),clearInterval(p))}));if(d.media_buttons&&a.wpa_media_buttons){var c=n.find(".wp-media-buttons");if(c.length)c.find(".wpa-shortcode-button").data("editor-id",o);else{var f=e(a.wpa_media_buttons);f.find(".wpa-shortcode-button").data("editor-id",o),n.prepend(f)}}}}))},e.fn.wpa_confirm=function(){return this.each((function(){e(this).on("click",(function(t){var n=e(this).data("confirm")||a.wpa_vars.i18n.confirm;if(!confirm(n))return t.preventDefault(),!1;i.vars.is_confirm=!0,i.vars.form_modified=!1}))}))},e.fn.serializeObject=function(){var a={};return e.each(this.serializeArray(),(function(t,i){var r=i.name,o=i.value;a[r]=a[r]===n?o:e.isArray(a[r])?a[r].concat(o):[a[r],o]})),a},e.fn.wpa_save=function(){return this.each((function(){var t,n=e(this),r=e(".wpa-save"),o=e(".wpa-options"),l=!1;n.on("click",(function(d){if(!l){var s=n.data("save"),p=n.val();r.attr("value",s),n.hasClass("wpa-save-ajax")?(d.preventDefault(),o.addClass("wpa-saving"),r.prop("disabled",!0),a.wp.ajax.post("wpa_"+o.data("unique")+"_ajax_save",{data:e("#wpa-form").serializeJSONWPA()}).done((function(a){if(e(".wpa-error").remove(),Object.keys(a.errors).length){var n='<i class="wpa-label-error wpa-error">!</i>';e.each(a.errors,(function(a,t){var i=e('[data-depend-id="'+a+'"]'),r=e("#wpa-tab-link-"+(i.closest(".wpa-section").index()+1)),o=r.closest(".wpa-tab-depth-0");i.closest(".wpa-fieldset").append('<p class="wpa-text-error wpa-error">'+t+"</p>"),r.find(".wpa-error").length||r.append(n),o.find(".wpa-arrow .wpa-error").length||o.find(".wpa-arrow").append(n)}))}o.removeClass("wpa-saving"),r.prop("disabled",!1).attr("value",p),l=!1,i.vars.form_modified=!1,i.vars.$form_warning.hide(),clearTimeout(t);var d=e(".wpa-form-success");d.empty().append(a.notice).fadeIn("fast",(function(){t=setTimeout((function(){d.fadeOut("fast")}),1e3)}))})).fail((function(e){alert(e.error)}))):i.vars.form_modified=!1}l=!0}))}))},e.fn.wpa_options=function(){return this.each((function(){var r=e(this),o=r.find(".wpa-content"),l=r.find(".wpa-form-success"),d=r.find(".wpa-form-warning"),s=r.find(".wpa-header .wpa-save");i.vars.$form_warning=d,d.length&&(a.onbeforeunload=function(){return!(!i.vars.form_modified||!1!==i.vars.is_confirm)||n},o.on("change keypress",":input",(function(){i.vars.form_modified||(l.hide(),d.fadeIn("fast"),i.vars.form_modified=!0)}))),l.hasClass("wpa-form-show")&&setTimeout((function(){l.fadeOut("fast")}),1e3),e(t).keydown((function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return s.trigger("click"),e.preventDefault(),!1}))}))},e.fn.wpa_taxonomy=function(){return this.each((function(){var a=e(this),t=a.parents("form");if("addtag"===t.attr("id")){var n=t.find("#submit"),i=a.find("> .wpa-field").wpa_clone();n.on("click",(function(){t.find(".form-required").hasClass("form-invalid")||(a.data("inited",!1),a.empty(),a.html(i),i=i.wpa_clone(),a.wpa_reload_script())}))}}))},e.fn.wpa_shortcode=function(){var r=this;return r.shortcode_parse=function(a,t){var n="";return e.each(a,(function(a,i){n+="["+(t=t||a),e.each(i,(function(e,a){"content"===e?(n+="]",n+=a,n+="[/"+t):n+=r.shortcode_tags(e,a)})),n+="]"})),n},r.shortcode_tags=function(a,t){var n="";return""!==t&&("object"!=typeof t||e.isArray(t)?n+=" "+a.replace("-","_")+'="'+t.toString()+'"':e.each(t,(function(e,a){if("background-image"===e)a=a.url?a.url:"";""!==a&&(n+=" "+e.replace("-","_")+'="'+a.toString()+'"')}))),n},r.insertAtChars=function(e,a){var t=void 0!==e[0].name?e[0]:e;return t.value.length&&void 0!==t.selectionStart?(t.focus(),t.value.substring(0,t.selectionStart)+a+t.value.substring(t.selectionEnd,t.value.length)):(t.focus(),a)},r.send_to_editor=function(a,t){var n;if("undefined"!=typeof tinymce&&(n=tinymce.get(t)),n&&!n.isHidden())n.execCommand("mceInsertContent",!1,a);else{var i=e("#"+t);i.val(r.insertAtChars(i,a)).trigger("change")}},this.each((function(){var o,l,d,s,p,c,f,h,w,u=e(this),v=u.find(".wpa-modal-load"),g=(u.find(".wpa-modal-content"),u.find(".wpa-modal-insert")),m=u.find(".wpa-modal-loading"),_=u.find("select"),b=u.data("modal-id"),y=u.data("nonce");e(t).on("click",'.wpa-shortcode-button[data-modal-id="'+b+'"]',(function(a){a.preventDefault(),w=e(this),o=w.data("editor-id")||!1,l=w.data("target-id")||!1,d=w.data("gutenberg-id")||!1,u.show(),u.hasClass("wpa-shortcode-single")&&p===n&&_.trigger("change")})),e(t).on("wpa_button_tinymce_"+b,(function(a,t,i){w=e(t.$el),o=i,d=!1,l=!1,u.show(),u.hasClass("wpa-shortcode-single")&&p===n&&_.trigger("change")})),_.on("change",(function(){var t=e(this),n=t.find(":selected");s=t.val(),p=n.data("shortcode"),c=n.data("view")||"normal",f=n.data("group")||p,v.empty(),s?(m.show(),a.wp.ajax.post("wpa-get-shortcode-"+b,{shortcode_key:s,nonce:y}).done((function(a){m.hide();var t=e(a.content).appendTo(v);g.parent().removeClass("hidden"),h=t.find(".wpa--repeat-shortcode").wpa_clone(),t.wpa_reload_script(),t.find(".wpa-fields").wpa_reload_script()}))):g.parent().addClass("hidden")})),g.on("click",(function(t){if(t.preventDefault(),!g.prop("disabled")&&!g.attr("disabled")){var n="",i=u.find(".wpa-field:not(.wpa-depend-on)").find(":input:not(.ignore)").serializeObjectWPA();switch(c){case"contents":var s=p?i[p]:i;e.each(s,(function(e,a){var t=p||e;n+="["+t+"]"+a+"[/"+t+"]"}));break;case"group":n+="["+p,e.each(i[p],(function(e,a){n+=r.shortcode_tags(e,a)})),n+="]",n+=r.shortcode_parse(i[f],f),n+="[/"+p+"]";break;case"repeater":n+=r.shortcode_parse(i[f],f);break;default:n+=r.shortcode_parse(i)}if(n=""===n?"["+p+"]":n,d){var h=a.wpa_gutenberg_props.attributes.hasOwnProperty("shortcode")?a.wpa_gutenberg_props.attributes.shortcode:"";a.wpa_gutenberg_props.setAttributes({shortcode:h+n})}else if(o)r.send_to_editor(n,o);else{var v=l?e(l):w.parent().parent().find("textarea");v.val(r.insertAtChars(v,n)).trigger("change")}u.hide()}})),u.on("click",".wpa--repeat-button",(function(e){e.preventDefault();var a=u.find(".wpa--repeatable"),t=h.wpa_clone(),n=t.find(".wpa-repeat-remove");t.appendTo(a);t.find(".wpa-fields").wpa_reload_script(),i.helper.name_nested_replace(u.find(".wpa--repeat-shortcode"),f),n.on("click",(function(){t.remove(),i.helper.name_nested_replace(u.find(".wpa--repeat-shortcode"),f)}))})),u.on("click",".wpa-modal-close, .wpa-modal-overlay",(function(){u.hide()}))}))},e.fn.wpa_field_select_preview=function(){return this.each((function(){var a=e(this),t=a.find(":selected").data("preview"),n=a.find(":selected").data("url"),i=a.find(".image-preview img"),r=a.find(".image-preview a"),o=a.find(".wpa_select_preview");i.attr("src",t),r.attr("href",n),o.on("change",(function(){t=a.find(":selected").data("preview"),n=a.find(":selected").data("url"),i.attr("src",t),r.attr("href",n)}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var a=6-e.length-1;a>=0;a--)e="0"+e;return"#"+e}),i.funcs.parse_color=function(e){var a=e.replace(/\s+/g,""),t=-1!==a.indexOf("rgba")?parseFloat(100*a.replace(/^.*,(.+)\)/,"$1")):100;return{value:a,transparent:t,rgba:t<100}},e.fn.wpa_color=function(){return this.each((function(){var t,n=e(this),r=i.funcs.parse_color(n.val()),o=!a.wpa_vars.color_palette.length||a.wpa_vars.color_palette;n.hasClass("wp-color-picker")&&n.closest(".wp-picker-container").after(n).remove(),n.wpColorPicker({palettes:o,change:function(e,a){var i=a.color.toString();t.removeClass("wpa--transparent-active"),t.find(".wpa--transparent-offset").css("background-color",i),n.val(i).trigger("change")},create:function(){t=n.closest(".wp-picker-container");var a=n.data("a8cIris"),o=e('<div class="wpa--transparent-wrap"><div class="wpa--transparent-slider"></div><div class="wpa--transparent-offset"></div><div class="wpa--transparent-text"></div><div class="wpa--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(t.find(".wp-picker-holder")),l=o.find(".wpa--transparent-slider"),d=o.find(".wpa--transparent-text"),s=o.find(".wpa--transparent-offset"),p=o.find(".wpa--transparent-button");"transparent"===n.val()&&t.addClass("wpa--transparent-active"),p.on("click",(function(){"transparent"!==n.val()?(n.val("transparent").trigger("change").removeClass("iris-error"),t.addClass("wpa--transparent-active")):(n.val(a._color.toString()).trigger("change"),t.removeClass("wpa--transparent-active"))})),l.slider({value:r.transparent,step:1,min:0,max:100,slide:function(e,t){var i=parseFloat(t.value/100);a._color._alpha=i,n.wpColorPicker("color",a._color.toString()),d.text(1===i||0===i?"":i)},create:function(){var e=parseFloat(r.transparent/100),o=e<1?e:"";d.text(o),s.css("background-color",r.value),t.on("click",".wp-picker-clear",(function(){a._color._alpha=1,d.text(""),l.slider("option","value",100),t.removeClass("wpa--transparent-active"),n.trigger("change")})),t.on("click",".wp-picker-default",(function(){var e=i.funcs.parse_color(n.data("default-color")),t=parseFloat(e.transparent/100),r=t<1?t:"";a._color._alpha=t,d.text(r),l.slider("option","value",e.transparent)}))}})}})}))},e.fn.wpa_number=function(){return this.each((function(){e(this).on("keypress",(function(e){if(0!==e.keyCode&&8!==e.keyCode&&45!==e.keyCode&&46!==e.keyCode&&(e.keyCode<48||e.keyCode>57))return!1}))}))},e.fn.wpa_chosen=function(){return this.each((function(){var t=e(this),i=t.parent().find(".chosen-container"),r=t.hasClass("wpa-chosen-sortable")||!1,o=t.hasClass("wpa-chosen-ajax")||!1,l=t.attr("multiple")||!1,d=l?"100%":"auto",s=e.extend({allow_single_deselect:!0,disable_search_threshold:10,width:d,no_results_text:a.wpa_vars.i18n.no_results_text},t.data("chosen-settings"));if(i.length&&i.remove(),o){var p=e.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:a.wpa_vars.i18n.typing_text,searching_text:a.wpa_vars.i18n.searching_text,no_results_text:a.wpa_vars.i18n.no_results_text},t.data("chosen-settings"));t.WPAAjaxChosen(p)}else t.chosen(s);if(l){var c=t.parent().find(".wpa-hide-select"),f=c.val()||[];t.on("change",(function(e,t){t&&t.selected?c.append('<option value="'+t.selected+'" selected="selected">'+t.selected+"</option>"):t&&t.deselected&&c.find('option[value="'+t.deselected+'"]').remove(),a.wp.customize!==n&&0===c.children().length&&c.data("customize-setting-link")&&a.wp.customize.control(c.data("customize-setting-link")).setting.set(""),c.trigger("change")})),t.WPAChosenOrder(f,!0)}if(r){var h=t.parent().find(".chosen-container").find(".chosen-choices");h.bind("mousedown",(function(a){e(a.target).is("span")&&a.stopPropagation()})),h.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,a){a.placeholder.width(a.item.innerWidth()),a.placeholder.height(a.item.innerHeight())},update:function(a,n){var i="",r=t.data("chosen"),o=t.parent().find(".wpa-hide-select");h.find(".search-choice-close").each((function(){var a=e(this).data("option-array-index");e.each(r.results_data,(function(e,t){t.array_index===a&&(i+='<option value="'+t.value+'" selected>'+t.value+"</option>")}))})),o.children().remove(),o.append(i),o.trigger("change")}})}}))},e.fn.wpa_checkbox=function(){return this.each((function(){var a=e(this),t=a.find(".wpa--input"),n=a.find(".wpa--checkbox");n.on("click",(function(){t.val(Number(n.prop("checked"))).trigger("change")}))}))},e.fn.wpa_siblings=function(){return this.each((function(){var a=e(this),t=a.find(".wpa--sibling"),n=a.data("multiple")||!1;t.on("click",(function(){var t=e(this);n?t.hasClass("wpa--active")?(t.removeClass("wpa--active"),t.find("input").prop("checked",!1).trigger("change")):(t.addClass("wpa--active"),t.find("input").prop("checked",!0).trigger("change")):(a.find("input").prop("checked",!1),t.find("input").prop("checked",!0).trigger("change"),t.addClass("wpa--active").siblings().removeClass("wpa--active"))}))}))},e.fn.wpa_help=function(){return this.each((function(){var a,t,r=e(this);r.on({mouseenter:function(){a=e('<div class="wpa-tooltip"></div>').html(r.find(".wpa-help-text").html()).appendTo("body"),t=i.vars.is_rtl?r.offset().left+24:r.offset().left-a.outerWidth(),a.css({top:r.offset().top-(a.outerHeight()/2-14),left:t})},mouseleave:function(){a!==n&&a.remove()}})}))},e.fn.wpa_customizer_refresh=function(){return this.each((function(){var i=e(this),r=i.closest(".wpa-customize-complex");if(r.length){var o=r.data("unique-id");if(o===n)return;var l=r.find(":input"),d=r.data("option-id"),s=l.serializeObjectWPA(),p=!e.isEmptyObject(s)&&s[o]&&s[o][d]?s[o][d]:"",c=a.wp.customize.control(o+"["+d+"]");c.setting._value=null,c.setting.set(p)}else i.find(":input").first().trigger("change");e(t).trigger("wpa-customizer-refresh",i)}))},e.fn.wpa_customizer_listen=function(t){var r=e.extend({closest:!1},t);return this.each((function(){if(a.wp.customize!==n){var t=r.closest?e(this).closest(".wpa-customize-complex"):e(this),o=t.find(":input"),l=t.data("unique-id"),d=t.data("option-id");l!==n&&o.on("change keyup",i.helper.debounce((function(){var n=t.find(":input").serializeObjectWPA(),i=!e.isEmptyObject(n)&&n[l]&&n[l][d]?n[l][d]:"";a.wp.customize.control(l+"["+d+"]").setting.set(i)}),250))}}))},e(t).on("expanded",".control-section-wpa",(function(){var a=e(this);if(a.hasClass("open")&&!a.data("inited")){var t=a.find(".wpa-customize-field"),n=a.find(".wpa-customize-complex");t.length&&(a.wpa_dependency(),t.wpa_reload_script({dependency:!1}),n.wpa_customizer_listen()),a.data("inited",!0)}})),e(t).on("click","form .wpa-save-callback",(function(){var t=e(this),n=e(this).closest(".wpa-options"),r=e(this).closest("form");return n.addClass("wpa-saving"),e.post(t.attr("href"),{options:r.serializeJSONWPA()},(function(e){null!==i.vars.$form_warning&&(i.vars.form_modified=!1,i.vars.$form_warning.hide()),e.data&&(a.location.href=e.data),n.removeClass("wpa-saving")})),!1})),i.vars.$window.on("resize wpa.resize",i.helper.debounce((function(t){(navigator.userAgent.indexOf("AppleWebKit/")>-1?i.vars.$window.width():a.innerWidth)<=782&&!i.vars.onloaded&&(e(".wpa-section").wpa_reload_script(),i.vars.onloaded=!0)}),200)).trigger("wpa.resize"),e.fn.wpa_widgets=function(){return this.each((function(){e(t).on("widget-added widget-updated",(function(e,a){var t=a.find(".wpa-fields");t.length&&t.wpa_reload_script()})),e(t).on("click",".widget-top",(function(a){var t=e(this).parent().find(".wpa-fields");t.length&&t.wpa_reload_script()})),e(".widgets-sortables, .control-section-sidebar").on("sortstop",(function(e,a){a.item.find(".wpa-fields").wpa_reload_script_retry()}))}))},e.fn.wpa_nav_menu=function(){return this.each((function(){var a=e(this);a.on("click","a.item-edit",(function(){e(this).closest("li.menu-item").find(".wpa-fields").wpa_reload_script()})),a.on("sortstop",(function(e,a){a.item.find(".wpa-fields").wpa_reload_script_retry()}))}))},e.fn.wpa_reload_script_retry=function(){return this.each((function(){var a=e(this);a.data("inited")&&a.children(".wpa-field-wp_editor").wpa_field_wp_editor()}))},e.fn.wpa_reload_script=function(a){var n=e.extend({dependency:!0},a);return this.each((function(){var a=e(this);a.data("inited")||(a.children(".wpa-field-accordion").wpa_field_accordion(),a.children(".wpa-field-backup").wpa_field_backup(),a.children(".wpa-field-background").wpa_field_background(),a.children(".wpa-field-code_editor").wpa_field_code_editor(),a.children(".wpa-field-date").wpa_field_date(),a.children(".wpa-field-datetime").wpa_field_datetime(),a.children(".wpa-field-fieldset").wpa_field_fieldset(),a.children(".wpa-field-gallery").wpa_field_gallery(),a.children(".wpa-field-group").wpa_field_group(),a.children(".wpa-field-icon").wpa_field_icon(),a.children(".wpa-field-link").wpa_field_link(),a.children(".wpa-field-image").wpa_field_image(),a.children(".wpa-field-media").wpa_field_media(),a.children(".wpa-field-map").wpa_field_map(),a.children(".wpa-field-repeater").wpa_field_repeater(),a.children(".wpa-field-slider").wpa_field_slider(),a.children(".wpa-field-sortable").wpa_field_sortable(),a.children(".wpa-field-sorter").wpa_field_sorter(),a.children(".wpa-field-spinner").wpa_field_spinner(),a.children(".wpa-field-switcher").wpa_field_switcher(),a.children(".wpa-field-tabbed").wpa_field_tabbed(),a.children(".wpa-field-typography").wpa_field_typography(),a.children(".wpa-field-upload").wpa_field_upload(),a.children(".wpa-field-wp_editor").wpa_field_wp_editor(),a.children(".wpa-field-select_preview").wpa_field_select_preview(),a.children(".wpa-field-border").find(".wpa-color").wpa_color(),a.children(".wpa-field-background").find(".wpa-color").wpa_color(),a.children(".wpa-field-color").find(".wpa-color").wpa_color(),a.children(".wpa-field-color_group").find(".wpa-color").wpa_color(),a.children(".wpa-field-link_color").find(".wpa-color").wpa_color(),a.children(".wpa-field-typography").find(".wpa-color").wpa_color(),a.children(".wpa-field-dimensions").find(".wpa-number").wpa_number(),a.children(".wpa-field-slider").find(".wpa-number").wpa_number(),a.children(".wpa-field-spacing").find(".wpa-number").wpa_number(),a.children(".wpa-field-spinner").find(".wpa-number").wpa_number(),a.children(".wpa-field-typography").find(".wpa-number").wpa_number(),a.children(".wpa-field-select").find(".wpa-chosen").wpa_chosen(),a.children(".wpa-field-checkbox").find(".wpa-checkbox").wpa_checkbox(),a.children(".wpa-field-button_set").find(".wpa-siblings").wpa_siblings(),a.children(".wpa-field-image_select").find(".wpa-siblings").wpa_siblings(),a.children(".wpa-field-palette").find(".wpa-siblings").wpa_siblings(),a.children(".wpa-field-backup_widgets").find(".wpa-siblings").wpa_siblings(),a.find(".wpa-field").find(".wpa-help").wpa_help(),n.dependency&&a.wpa_dependency(),a.data("inited",!0),e(t).trigger("wpa-reload-script",a))}))},e(t).ready((function(){})),a.addEventListener?a.addEventListener("load",r):a.attachEvent?a.attachEvent("onload",r):a.onload=r,wp.data!==n){var o=wp.data.select("core/editor"),l=wp.data.select("core/edit-post").isSavingMetaBoxes;wp.data.subscribe((function(){const e=o.isSavingPost();o.isAutosavingPost(),o.didPostSaveRequestSucceed();e})),wp.data.subscribe((function(){const e=l();e}))}if(a.wpa_vars.is_preview){function e(e){const a=e.$el.find(".wpa-fields");a.length&&a.wpa_reload_script()}elementor.hooks.addAction("panel/open_editor/widget",(function(a,t,n){const i=t.get("widgetType");elementor.hooks.addAction("panel/widgets/"+i+"/controls/wp_widget/loaded",e),elementor.hooks.addAction("panel/widgets/wp-widget-"+i+"/controls/wp_widget/loaded",e)}))}}(jQuery,window,document);